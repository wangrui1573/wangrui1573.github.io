<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Real的博客 - 记录各种折腾</title><meta name="keywords" content="Linux, Android, Hexo"><meta name="author" content="Real"><meta name="copyright" content="Real"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="瑞哥的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="Real的博客">
<meta property="og:url" content="https://blog.real9.ml/page/9/index.html">
<meta property="og:site_name" content="Real的博客">
<meta property="og:description" content="瑞哥的博客">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img1.baidu.com/it/u=3927275426,66649734&fm=253&fmt=auto&app=138&f=JPG?w=889&h=500">
<meta property="article:author" content="Real">
<meta property="article:tag" content="Linux, Android, Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img1.baidu.com/it/u=3927275426,66649734&fm=253&fmt=auto&app=138&f=JPG?w=889&h=500"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.real9.ml/page/9/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://jsdelivr.pai233.top/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://jsdelivr.pai233.top/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Real的博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-06-26 10:16:21'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://img1.baidu.com/it/u=3927275426,66649734&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPG?w=889&amp;h=500" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">153</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://al.chirmyram.com/mov"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://al.chirmyram.com/tlv1"><i class="fa-fw fas fa-video"></i><span> TV Show</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-comment-dots"></i><span> Message</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://bu.dusays.com/2022/05/03/627010707b598.webp')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Real的博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://al.chirmyram.com/mov"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://al.chirmyram.com/tlv1"><i class="fa-fw fas fa-video"></i><span> TV Show</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-comment-dots"></i><span> Message</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Real的博客</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/19575/" title="ubuntu下安装chrome浏览器"><img class="post_bg" src="https://bu.dusays.com/2021/03/06/daffe400090d4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ubuntu下安装chrome浏览器"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/19575/" title="ubuntu下安装chrome浏览器">ubuntu下安装chrome浏览器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-06T03:16:53.000Z" title="发表于 2022-05-06 11:16:53">2022-05-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/csdn/">csdn</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2022/05/19575/#post-comment"></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">目的：ubuntu 下安装 chrome 浏览器，同步其他设备上的浏览记录和插件
管理远命令行下
对于谷歌 Chrome32 位版本，使用如下链接：
1wget https://dl.google.com/linux/direct/google-chrome-stable_current_i386.deb

对于 64 位版本可以使用如下链接下载：
1wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb

下载完后，运行如下命令安装。
1sudo dpkg -i google-chrome*; sudo apt-get -f install

运行
1/usr/bin/google-chrome-stable %U -user-data-dir</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/20161/" title="vsphere_ESXI 网卡直通配置教程"><img class="post_bg" src="https://bu.dusays.com/2021/03/06/daffe400090d4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vsphere_ESXI 网卡直通配置教程"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/20161/" title="vsphere_ESXI 网卡直通配置教程">vsphere_ESXI 网卡直通配置教程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-06T03:16:53.000Z" title="发表于 2022-05-06 11:16:53">2022-05-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/csdn/">csdn</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2022/05/20161/#post-comment"></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">
确认有无直通授权



确认网卡 PCI 位置序号



在高级中配置直通



如需重启者重启



在配置中添加 PCI 设置





打开资源配置，预留所有内存


</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/20773/" title="win8以上安装.NET最快方法"><img class="post_bg" src="https://bu.dusays.com/2021/03/06/daffe400090d4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="win8以上安装.NET最快方法"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/20773/" title="win8以上安装.NET最快方法">win8以上安装.NET最快方法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-06T03:16:53.000Z" title="发表于 2022-05-06 11:16:53">2022-05-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/csdn/">csdn</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2022/05/20773/#post-comment"></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">通过 NetFx3.cab 文件安装
NetFx3.cab 下载链接：https://pan.baidu.com/s/1O24nLgXhehHveae25p9SLg 密码：amgu
安装方法：下载 NetFx3.cab 后将其放于 C 盘 WINDOWS 文件夹下（C:\Windows）
点击 “开始” 找到“Windows PowerShell” 右击 “以管理员身份运行”，输入如下命令：
1dism.exe /online /add-package /packagepath:C:\WINDOWS\netfx3.caB

等待安装完成即可。
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/31716/" title="【ESP8266 ES01 小爱】使用ESP 8266 WOL 远程唤醒电脑"><img class="post_bg" src="https://bu.dusays.com/2021/03/06/daffe400090d4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【ESP8266 ES01 小爱】使用ESP 8266 WOL 远程唤醒电脑"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/31716/" title="【ESP8266 ES01 小爱】使用ESP 8266 WOL 远程唤醒电脑">【ESP8266 ES01 小爱】使用ESP 8266 WOL 远程唤醒电脑</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-06T03:16:53.000Z" title="发表于 2022-05-06 11:16:53">2022-05-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/csdn/">csdn</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2022/05/31716/#post-comment"></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">

不废话了，直接上代码，烧录的时候 选 ESP 8266 通用，支持小爱
手机 APP 和点灯 参考上一篇文字
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283#define BLINKER_WIFI#define BLINKER_MIOT_OUTLET#include &lt;Blinker.h&gt;#include &lt;WiFiUDP.h&gt;#include &lt;ESP8266Ping.h&gt; char auth[] = &quot;你的token&quot;;//app中获取到的Secret Key(密钥)char ssid[] = &quot;你的无线名称&quot;;//填入wifi账号char pswd[] = &quot;你的无线密码&quot;;//填入wifi密码byte mac1[]  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/10561/" title="【calibre】使用命令行批量创建、修改calibre 书籍"><img class="post_bg" src="https://bu.dusays.com/2021/03/06/daffe400090d4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【calibre】使用命令行批量创建、修改calibre 书籍"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/10561/" title="【calibre】使用命令行批量创建、修改calibre 书籍">【calibre】使用命令行批量创建、修改calibre 书籍</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-06T03:16:53.000Z" title="发表于 2022-05-06 11:16:53">2022-05-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/csdn/">csdn</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2022/05/10561/#post-comment"></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">
本文由 简悦 SimpRead 转码， 原文地址 blog.csdn.net

背景：使用 calibre 作为游戏仓库，记录游戏收藏情况
问题：一本一本的加速度太慢了
解决办法：使用 calibre 官方 API 批量添加
完成效果：

步骤：

查找官方 API ebook-meta — calibre 5.32.0 documentation

批量创建书籍命令：


1234calibredb set_metadata -f publisher:realwang2 546  --with-library /books  546代表书籍ID


批量修改书籍命令：

12345678calibredb remove --with-library /books	 555calibredb remove --with-library /books	 556calibredb remove --with-library /books	 557calibredb remove --with-library /books	 558calibredb remove --with-libra ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/52186/" title="【网启树莓派】无SD卡 从网络驱动树莓派_ raspberry boot via pxe"><img class="post_bg" src="https://so.csdn.net/so/search?q=%E6%A0%91%E8%8E%93%E6%B4%BE&amp;spm=1001.2101.3001.7020" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【网启树莓派】无SD卡 从网络驱动树莓派_ raspberry boot via pxe"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/52186/" title="【网启树莓派】无SD卡 从网络驱动树莓派_ raspberry boot via pxe">【网启树莓派】无SD卡 从网络驱动树莓派_ raspberry boot via pxe</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-06T03:16:53.000Z" title="发表于 2022-05-06 11:16:53">2022-05-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/csdn/">csdn</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2022/05/52186/#post-comment"></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">
问题：无 SD 卡如何启动树莓派

环境：树莓派 4B+openwrt+ 群晖
解法：从网络启动 + tftp+nfs 挂载
背景说明：
在某个保密场景下，车间严禁使用 SD 卡和 U 盘，但树莓派需要 SD 卡才能启动，故需要一种无盘启动树莓派的解决方案
架构：

步骤：

第一步还是需要一张带系统的 SD 卡，插入树莓派，正常进入系统，使用下列命令将树莓派设置为从网络启动

12sudo raspi-configBoot Options -&gt; B4 Boot Order,选择B2 Network Boot，


拔卡重启，你可以看到屏幕上的 TFTP 字样，这样客户端网启已经设置完成了

设置 DHCP，我的路由器是 openwrt，修改 dhcp 服务配置如下：


123vi /etc/dnsmasq.conf#加入下列内容pxe-service=0,&quot;Raspberry Pi Boot&quot;


在路由器上设置 TFTP 服务器和路径，虽然开了 TFTP 服务，但是不用他，路径指向别的服务器

这时候路由器上的配置已经做完了


设置 TFTP 服务， ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/56789/" title="【群晖】在本地远程执行群晖上的命令 _ ssh 远程执行命令"><img class="post_bg" src="https://img-blog.csdnimg.cn/20210628114128538.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【群晖】在本地远程执行群晖上的命令 _ ssh 远程执行命令"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/56789/" title="【群晖】在本地远程执行群晖上的命令 _ ssh 远程执行命令">【群晖】在本地远程执行群晖上的命令 _ ssh 远程执行命令</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-06T03:16:53.000Z" title="发表于 2022-05-06 11:16:53">2022-05-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/csdn/">csdn</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2022/05/56789/#post-comment"></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">
步骤：设定免密 ssh 登陆群晖，见上一篇文章

测试一下 
12ssh root@ip -p 端口 &quot;hostname&quot; ssh root@ip -p 端口 &quot;date&quot;

写个脚本在 &#x2F; etc&#x2F;bin，或者注释一下
注释
1alias nas=&#x27;ssh root@ip -p 端口&#x27;

脚本 vi &#x2F;etc&#x2F;bin&#x2F;nas
1ssh root@192.168.31.192 -p 9022 &quot;$1 $2&quot;

测试一下

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/24237/" title="【语音控制】0成本实现小爱远程开关电脑"><img class="post_bg" src="https://bu.dusays.com/2021/03/06/daffe400090d4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【语音控制】0成本实现小爱远程开关电脑"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/24237/" title="【语音控制】0成本实现小爱远程开关电脑">【语音控制】0成本实现小爱远程开关电脑</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-06T03:16:53.000Z" title="发表于 2022-05-06 11:16:53">2022-05-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/csdn/">csdn</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2022/05/24237/#post-comment"></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">
背景：之前使用 HACS &#x2F; 网页版实现了电脑网络唤醒，但不能关机，不支持小爱
问题：不能语音关机，不支持小爱
环境：支持 WOL 的主板电脑，python 3.X 环境 (我这里用了群晖)


解法：1. 使用小爱添加第三方设备
           2. 第三方平台提供 API，
          3. 找台服务器运行 Python 脚本虚拟一个开关设备，定义开关触发 bash 脚本


方案评估：在评估方案时，在网上查资料最终方案为点灯科技 Blinker



系统架构：一番研究后最终系统架构和步骤如下：



 Python 程序逻辑如下



流程、架构理清了，开始执行：


准备 python3.X 的环境，确保 pip3 命令可用，群晖没有 PIP3 可以装，但是后面很多库、依赖安装出错，最终放弃，我直接使用 docker python 环境

已经搞好的 (包含依赖环境) 上传到了：https://hub.docker.com/r/realwang/blinker-wol
 2. 在 python 环境中安装 Blinker 依赖环境，参考官方教程
   ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/53059/" title="群晖开启rootssh"><img class="post_bg" src="https://bu.dusays.com/2021/03/06/daffe400090d4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="群晖开启rootssh"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/53059/" title="群晖开启rootssh">群晖开启rootssh</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-06T03:16:53.000Z" title="发表于 2022-05-06 11:16:53">2022-05-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/csdn/">csdn</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2022/05/53059/#post-comment"></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">目的：美化 Linux Mint 字体
原因：安装搜狗拼音输入法后字体会变成标楷体，十分难看，系统其他字体不如雅黑好看
做法：

先从 window 7 系统下的系统盘中提取出字体文件  msyh.ttf 和 msyhbd.ttf

或从 http://dl.pconline.com.cn/html_2&#x2F;1&#x2F;82&#x2F;id&#x3D;50601&amp;pn&#x3D;0&amp;linkPage&#x3D;1.html 下载

安装字体

在 Linux mint 系统字体文件夹中建立对应的字体文件夹
12cd /usr/share/fonts/truetype/arphicsudo rm -f ukai.ttc  uming.ttc

复制字体文件到对应的文件夹下
1sudo cp msyh.ttf msyhbd.ttf   /usr/share/fonts/msyh

更新字体
1sudo fc-cache  -fv

如果安装了搜狗输入法，系统菜单设置字体还是标楷体，需要删除下列字体
12cd /usr/share/fonts/truetype/arp ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/6189/" title="从网页唤醒电脑WOL _ 群晖 外网网页唤醒群晖、电脑WOL"><img class="post_bg" src="https://img-blog.csdnimg.cn/2020073011561268.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从网页唤醒电脑WOL _ 群晖 外网网页唤醒群晖、电脑WOL"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/6189/" title="从网页唤醒电脑WOL _ 群晖 外网网页唤醒群晖、电脑WOL">从网页唤醒电脑WOL _ 群晖 外网网页唤醒群晖、电脑WOL</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-06T03:16:53.000Z" title="发表于 2022-05-06 11:16:53">2022-05-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/csdn/">csdn</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a class="twikoo-count" href="/2022/05/6189/#post-comment"></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">环境：路由器 + 群晖 with Docker+FRPC 映射公网
需求：从外网网页唤醒家里电脑
解法：使用 WOL 网页版
一、最佳做法：

安装路由器 WOL 插件，一般 koolshare、小米都有

如有路由器没有，家里有群晖可以考虑下列做法


二、纯群晖办法

群晖安装好 docker

在注册表中搜索 wol-web 并安装




设置 docker 目录和端口映射

3.1 目录映射  本地 CSV 文件地址到容器 CSV 地址

3.2 设置端口映射

3.3 修改本地 CSV 文件，将要唤醒和 MAC 和 IP 填入，注意在路由器 DHCP 做保留或绑定

3.4 重要，在 docker 安装的服务器上做 ARP 静态绑定，否则 MAC 地址老化后就无法唤醒了
如果是在路由器上安装的 WOL，则在路由器上做 arp 绑定
1arp -s 192.168.1.10     9C:B6:54:00:E1:00

防止路由器重启丢失，可以建立 crontab 任务计划
arp -a 查看绑定是否正确


打开 docker 容器页面   http://IP/8080   ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/8/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/#content-inner">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/#content-inner">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/#content-inner">16</a><a class="extend next" rel="next" href="/page/10/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://img1.baidu.com/it/u=3927275426,66649734&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPG?w=889&amp;h=500" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Real</div><div class="author-info__description">瑞哥的博客</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">153</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://blog.csdn.net/wangrui1573/"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的小站！</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/06/2XY2Z9J/" title="Emby 全平台开心版、认证服务器设置方法 | Velaciela"><img src="https://bu.dusays.com/2021/03/06/daffe400090d4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Emby 全平台开心版、认证服务器设置方法 | Velaciela"/></a><div class="content"><a class="title" href="/2024/06/2XY2Z9J/" title="Emby 全平台开心版、认证服务器设置方法 | Velaciela">Emby 全平台开心版、认证服务器设置方法 | Velaciela</a><time datetime="2024-06-26T02:15:14.000Z" title="发表于 2024-06-26 10:15:14">2024-06-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/2SFMQJM/" title="KubeSphere 最佳实战：一文搞定 KubeKey v3"><img src="https://bu.dusays.com/2021/03/06/daffe400090d4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="KubeSphere 最佳实战：一文搞定 KubeKey v3"/></a><div class="content"><a class="title" href="/2024/06/2SFMQJM/" title="KubeSphere 最佳实战：一文搞定 KubeKey v3">KubeSphere 最佳实战：一文搞定 KubeKey v3</a><time datetime="2024-06-12T08:05:53.000Z" title="发表于 2024-06-12 16:05:53">2024-06-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/2TA7R64/" title="虚拟机释放磁盘空间 | TIM Blog"><img src="https://bu.dusays.com/2021/03/06/daffe400090d4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="虚拟机释放磁盘空间 | TIM Blog"/></a><div class="content"><a class="title" href="/2024/02/2TA7R64/" title="虚拟机释放磁盘空间 | TIM Blog">虚拟机释放磁盘空间 | TIM Blog</a><time datetime="2024-02-26T03:11:14.000Z" title="发表于 2024-02-26 11:11:14">2024-02-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/3CTW4J1/" title="Windows 自带的端口转发 | kekxv 技术博客"><img src="https://bu.dusays.com/2021/03/06/daffe400090d4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Windows 自带的端口转发 | kekxv 技术博客"/></a><div class="content"><a class="title" href="/2024/02/3CTW4J1/" title="Windows 自带的端口转发 | kekxv 技术博客">Windows 自带的端口转发 | kekxv 技术博客</a><time datetime="2024-02-02T08:18:49.000Z" title="发表于 2024-02-02 16:18:49">2024-02-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/1HVQ0T5/" title="IOS 看书最终选择 | 源阅读转换 | 开源阅读 | IOS 自签_瑞哥 - RealWang 的博客 - CSDN 博客"><img src="https://bu.dusays.com/2021/03/06/daffe400090d4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IOS 看书最终选择 | 源阅读转换 | 开源阅读 | IOS 自签_瑞哥 - RealWang 的博客 - CSDN 博客"/></a><div class="content"><a class="title" href="/2023/08/1HVQ0T5/" title="IOS 看书最终选择 | 源阅读转换 | 开源阅读 | IOS 自签_瑞哥 - RealWang 的博客 - CSDN 博客">IOS 看书最终选择 | 源阅读转换 | 开源阅读 | IOS 自签_瑞哥 - RealWang 的博客 - CSDN 博客</a><time datetime="2023-08-01T07:55:53.000Z" title="发表于 2023-08-01 15:55:53">2023-08-01</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/csdn/"><span class="card-category-list-name">csdn</span><span class="card-category-list-count">119</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%BD%AC%E8%BD%BD/"><span class="card-category-list-name">转载</span><span class="card-category-list-count">34</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/AVDC/" style="font-size: 1.1em; color: #999">AVDC</a> <a href="/tags/Android/" style="font-size: 1.21em; color: #999ea4">Android</a> <a href="/tags/Docker/" style="font-size: 1.33em; color: #99a2af">Docker</a> <a href="/tags/Hexo/" style="font-size: 1.27em; color: #99a0a9">Hexo</a> <a href="/tags/IOT/" style="font-size: 1.16em; color: #999b9e">IOT</a> <a href="/tags/Linux/" style="font-size: 1.5em; color: #99a9bf">Linux</a> <a href="/tags/SQL/" style="font-size: 1.1em; color: #999">SQL</a> <a href="/tags/Windows/" style="font-size: 1.39em; color: #99a4b4">Windows</a> <a href="/tags/docker/" style="font-size: 1.16em; color: #999b9e">docker</a> <a href="/tags/hexo/" style="font-size: 1.1em; color: #999">hexo</a> <a href="/tags/markdown/" style="font-size: 1.1em; color: #999">markdown</a> <a href="/tags/mysql/" style="font-size: 1.1em; color: #999">mysql</a> <a href="/tags/vps/" style="font-size: 1.1em; color: #999">vps</a> <a href="/tags/%E6%97%A0%E7%BA%BF/" style="font-size: 1.16em; color: #999b9e">无线</a> <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 1.1em; color: #999">树莓派</a> <a href="/tags/%E7%BE%A4%E6%99%96/" style="font-size: 1.44em; color: #99a7ba">群晖</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">153</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-06-26T02:16:20.484Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Real</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://jsdelivr.pai233.top/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => { 
  const getCommentUrl = () => {
    const eleGroup = document.querySelectorAll('#recent-posts .article-title')
    let urlArray = []
    eleGroup.forEach(i=>{
      urlArray.push(i.getAttribute('href'))
    })
    return urlArray
  }

  const getCount = () => {
    const runTwikoo = () => {
      twikoo.getCommentsCount({
        envId: 'https://comment-rosy.vercel.app',
        region: '',
        urls: getCommentUrl(),
        includeReply: false
      }).then(function (res) {
        document.querySelectorAll('#recent-posts .twikoo-count').forEach((item,index) => {
          item.innerText = res[index].count
        })
      }).catch(function (err) {
        console.log(err)
      })
    }

      if (typeof twikoo === 'object') {
        runTwikoo()
      } else {
        getScript('https://jsdelivr.pai233.top/npm/twikoo@1/dist/twikoo.all.min.js').then(runTwikoo)
      }
  }

  window.pjax ? getCount() : window.addEventListener('load', getCount)

})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>